<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ================================================================== -->
    <!-- Line Loading Pivot / Graph -->
    <!-- ================================================================== -->
    <record id="view_line_loading_list" model="ir.ui.view">
        <field name="name">garment.line.loading.list</field>
        <field name="model">garment.line.loading</field>
        <field name="arch" type="xml">
            <list string="Line Loading">
                <field name="plan_id"/>
                <field name="sewing_line_id"/>
                <field name="worker_count"/>
                <field name="target_efficiency"/>
                <field name="daily_capacity"/>
                <field name="planned_qty" sum="Tổng"/>
                <field name="date_start"/>
                <field name="date_end"/>
                <field name="required_days"/>
            </list>
        </field>
    </record>

    <record id="view_line_loading_search" model="ir.ui.view">
        <field name="name">garment.line.loading.search</field>
        <field name="model">garment.line.loading</field>
        <field name="arch" type="xml">
            <search string="Line Loading">
                <field name="sewing_line_id"/>
                <field name="plan_id"/>
                <group>
                    <filter string="Chuyền" name="group_line"
                            context="{'group_by': 'sewing_line_id'}"/>
                    <filter string="Kế Hoạch" name="group_plan"
                            context="{'group_by': 'plan_id'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- Pivot -->
    <record id="view_line_loading_pivot" model="ir.ui.view">
        <field name="name">garment.line.loading.pivot</field>
        <field name="model">garment.line.loading</field>
        <field name="arch" type="xml">
            <pivot string="Line Loading">
                <field name="sewing_line_id" type="row"/>
                <field name="date_start" type="col" interval="week"/>
                <field name="planned_qty" type="measure"/>
                <field name="daily_capacity" type="measure"/>
            </pivot>
        </field>
    </record>

    <!-- Action -->
    <record id="action_line_loading" model="ir.actions.act_window">
        <field name="name">Line Loading</field>
        <field name="res_model">garment.line.loading</field>
        <field name="view_mode">list,pivot</field>
        <field name="context">{'search_default_group_line': 1}</field>
    </record>
</odoo>
